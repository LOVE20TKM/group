# LOVE20 链群（基于 ERC721 标准）

基于 LOVE20 core 协议的生态衍生 NFT 协议

## 特性

### 核心功能

- 永久存在：链群一旦建立，永久存在
- 唯一性保证：每个链群名称全局唯一，不可重复铸造
- NFT 资产化：基于 ERC721 标准，支持自由转让和交易
- 动态定价：铸造成本随 LOVE20 供应量动态调整
- 名称激励：短名称需要更高成本，鼓励有意义的长名称

## 应用场景

- 链群所有权管理：代表链群的唯一身份和所有权凭证
- 权益转让：通过 NFT 转让实现链群经营权、收益权的流转
- 生态集成：为 LOVE20 生态中的群类协议提供统一的身份系统
- 价值发现：稀缺和有意义的链群名称具有增值潜力，有更高的市场价值

## 铸造

任何人都可以支付一定数量的 LOVE20 代币，来铸造一个独一无二的链群，并在任何支持此协议的群类扩展协议中使用

### 链群名称规则

链群名称需遵循以下验证规则：

- ✅ 长度限制：1-64 字节
- ✅ 支持字符：字母、数字、特殊符号（所有 ASCII 可打印字符）、中文等 Unicode 字符
- ✅ 单码点表情符号：支持如 😀、🎉、❤️ 等单个码点的 Emoji
- ⚠️ 复合 Emoji 不支持：需要 ZWJ（零宽连接符）的复合 Emoji（如 👨‍👩‍👧‍👦）不被支持
- ✅ 唯一性检查：仅对 ASCII 字母大小写不敏感（`A-Z` 与 `a-z` 等价；不做 Unicode casefold/规范化）
- ❌ 禁止内容：
  - 空名称或超过 64 字节的名称
  - 任何位置的空格字符（包括 ASCII 空格和所有 Unicode 空格）
  - 控制字符（包括 C0、C1 控制字符和 DEL）
  - 零宽字符（U+200B-U+200F、U+034F、U+FEFF、U+2060、U+00AD）
  - 行分隔符和段落分隔符（U+2028、U+2029）
  - 方向格式化字符（U+061C、U+202A-U+202E）

**被禁止的空格字符包括：**

- ASCII 空格 (U+0020)
- 不换行空格 (U+00A0)
- Ogham 空格标记 (U+1680)
- En/Em 空格系列 (U+2000-U+200A)
- 窄不换行空格 (U+202F)
- 中等数学空格 (U+205F)
- 中文全角空格 (U+3000)

安全特性：系统实现了完整的字符验证，有效防止：

- **控制字符注入**：拒绝所有 ASCII 和 Unicode 控制字符
- **空格混淆攻击**：拒绝所有类型的 Unicode 空格字符
- **零宽字符混淆**：拒绝所有零宽和不可见字符
- **方向标记攻击**：拒绝双向文本覆盖和方向格式化字符
- **视觉欺骗**：防止使用不可见字符创建看似相同的名称

⚠️ **提示**：仍可能存在同形异义字符（homograph/confusables）导致的视觉混淆风险，建议集成方在前端/索引层做风险提示。

详细规则请参考 [链群名称校验规则](./docs/链群名称校验规则.md)

### 铸造费用

每次铸造需支付一定数量的 LOVE20 代币，并将这部分代币销毁变为未铸造，计算公式如下：

铸造基础费用 = LOVE20 剩余未铸造量 / 10^8

对于链群名称字节数 >= 8 字节，只收取基础费用
对于链群名称字节数 < 8 字节的，每比 8 字节少 1 个字节，则所需代币数量 \* 10

例如，当 LOVE20 剩余未铸造量为 70 亿时，不同链群名称字节数对应的铸造费用如下：

| 字节数 | 铸造需 LOVE20 个数 |
| ------ | ------------------ |
| 8+     | 70                 |
| 8      | 70                 |
| 7      | 700                |
| 6      | 7,000              |
| 5      | 70,000             |
| 4      | 700,000            |
| 3      | 7,000,000          |
| 2      | 70,000,000         |

字符与字节参考：

- 英文字母、数字、常见符号：占用 1 个字节（与 ASCII 兼容）
- 欧洲、中东等语言的大部分字符：占用 2 个字节
- 中文、日文、韩文等（CJK）字符：占用 3 个字节
- 单码点表情符号：通常占用 4 个字节（复合 Emoji 不支持）
