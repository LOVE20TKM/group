# LOVE20 矿池 ID（基于 ERC721 标准）

基于 LOVE20 core 协议的生态衍生协议

## PoolID 特性

### 核心功能

- 唯一性保证：每个矿池名称全局唯一，不可重复铸造
- NFT 资产化：基于 ERC721 标准，支持自由转让和交易
- 动态定价：铸造成本随 LOVE20 供应量动态调整
- 名称激励：短名称需要更高成本，鼓励有意义的长名称
- 完整枚举：支持 ERC721Enumerable 扩展，可遍历所有 PoolID

## PoolID 应用场景

- 矿池所有权管理：PoolID 代表矿池的唯一身份和所有权凭证
- 权益转让：通过 NFT 转让实现矿池经营权、收益权的流转
- 生态集成：为 LOVE20 生态中的矿池类协议提供统一的身份系统
- 价值发现：稀缺和有意义的 PoolID 名称可能具有市场价值

## PoolID 铸造

任何人都可以支付一定数量的 LOVE20 代币，来铸造一个独一无二的 PoolID，并在任何支持此协议的矿池类扩展协议中，行使矿池主的权力

铸造时需提供一个未铸造过的矿池名称

### 矿池名称规则

矿池名称需遵循以下验证规则：

- ✅ 长度限制：1-64 字节（UTF-8 编码）
- ✅ 支持字符：字母、数字、特殊符号、空格（仅内部）、中文等 Unicode 字符
- ❌ 禁止内容：
  - 空名称或超过 64 字节的名称
  - 前导或尾随空格
  - 控制字符（如换行符 `\n`、制表符 `\t` 等）
  - 零宽字符（U+200B、U+200C、U+200D、U+200E、U+200F、U+034F、U+FEFF、U+2060、U+00AD）

安全特性：系统实现了完整的字符验证，有效防止控制字符注入、零宽字符混淆、视觉欺骗等攻击。

详细规则请参考 [矿池名称校验规则](./docs/矿池名称校验规则.md)

### 铸造费用

每次铸造需支付一定数量的 LOVE20 代币给到合约，计算公式如下：

铸造基础费用 = LOVE20 剩余未铸造量 / 10^8

对于矿池名称字节数 >= 10 字节，只收取基础费用
对于矿池名称字节数 < 10 字节的，每比 10 字节少 1 个字节，则所需代币数量 \* 10

例如，当 LOVE20 剩余未铸造量为 80 亿时，不同矿池名称字节数对应的铸造费用如下：

| 字节数 | 铸造需 LOVE20 个数 |
| ------ | ------------------ |
| 12     | 80                 |
| 10     | 80                 |
| 8      | 8,000              |
| 6      | 800,000            |
| 4      | 80,000,000         |

⚠️ **注意**：字节数 1-3 的极短名称铸造成本极高（远超 LOVE20 最大供应量），实际上无法铸造。这是有意的设计，鼓励使用更有意义的长名称。

字符与字节参考：

- 英文字母、数字、常见符号：占用 1 个字节（与 ASCII 兼容）
- 欧洲、中东等语言的大部分字符：占用 2 个字节
- 中文、日文、韩文等（CJK）字符：占用 3 个字节
- 一些非常罕见的字符、表情符号：可能占用 4 个字节
